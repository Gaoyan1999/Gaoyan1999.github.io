(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{371:function(v,_,t){"use strict";t.r(_);var s=t(44),l=Object(s.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h1",{attrs:{id:"nosql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nosql"}},[v._v("#")]),v._v(" NoSQL")]),v._v(" "),t("h2",{attrs:{id:"nosql引入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nosql引入"}},[v._v("#")]),v._v(" Nosql引入")]),v._v(" "),t("p",[v._v("早期90年代，网站的访问量不大，服务器没有压力，一个数据库完全够了。现如今是大数据时代，数据太多，压力越来越大，从而引出了一些问题。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("问题")]),v._v(" "),t("blockquote",[t("p",[v._v("数据量大，一个机器容不下！")]),v._v(" "),t("p",[v._v("数据索引（B+树）,一个机器也放不下！")]),v._v(" "),t("p",[v._v("访问量，一个服务器承受不了。")])])]),v._v(" "),t("li",[t("p",[v._v("解决")]),v._v(" "),t("blockquote",[t("p",[v._v("Memcached(缓存)+MySql+垂直拆分：")])]),v._v(" "),t("p",[v._v("把MySql拆分成三个数据库，一个负责写，两个负责读，从而实现读写分离。")]),v._v(" "),t("p",[v._v("网站的大部分时间都在读，每次都要去数据库里查会花费大量开销，所以我们为了减轻数据库的压力我们就要使用"),t("strong",[v._v("缓存")]),v._v("来保证效率")]),v._v(" "),t("p",[v._v("发展过程：优化索引---\x3e文件缓存---\x3eMemcached")]),v._v(" "),t("p",[t("img",{attrs:{src:"/Users/gaoyan/notes/Redis/%E7%BC%93%E5%AD%98%E5%BC%95%E5%85%A5.png",alt:""}})]),v._v(" "),t("blockquote",[t("p",[v._v("3.分库分表+水平拆分+MySQL集群")])]),v._v(" "),t("p",[v._v("早期的MyISAM: 表锁（仅仅查询某一行时，也会把整个表锁起来！），进程要排队，十分低效。高并发时拉胯。")]),v._v(" "),t("p",[v._v("Innodb:行锁，只锁一行。")]),v._v(" "),t("p",[v._v("慢慢的就开始使用"),t("strong",[v._v("分库、分表")]),v._v("来解决压力。")]),v._v(" "),t("p",[t("img",{attrs:{src:"/Users/gaoyan/notes/Redis/%E9%9B%86%E7%BE%A4.png",alt:""}})]),v._v(" "),t("blockquote",[t("p",[v._v("3.现如今")])]),v._v(" "),t("p",[v._v("技术爆炸：数据无时无刻都在刷新。")]),v._v(" "),t("p",[v._v("MySQL这类的关系型数据库就不够用了！数据量大，变化快。")]),v._v(" "),t("p",[v._v("用MySQL存储博客文章、图片这种大文件会让它效率变低，所有引入了一种专门处理这种数据的数据库来处理这种数据。")]),v._v(" "),t("blockquote",[t("p",[v._v("目前互联网架构")])]),v._v(" "),t("p",[t("img",{attrs:{src:"/Users/gaoyan/notes/Redis/%E6%A1%86%E6%9E%B6.png",alt:""}})])])]),v._v(" "),t("h2",{attrs:{id:"为什么用nosql-什么是nosql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么用nosql-什么是nosql"}},[v._v("#")]),v._v(" 为什么用NoSQL，什么是NoSQL?")]),v._v(" "),t("p",[v._v("用户的各种信息、地理位置等等，每天都在爆发式增长，这时候我们就要用NoSQL数据库，Nosql可以解决以上问题。")]),v._v(" "),t("p",[v._v("###　ＮoSQL:not only SQL")]),v._v(" "),t("p",[v._v("关系数据库：类似于表格，传统的关系型数据库很难对付web2.0时代，特别是高并发社区！")]),v._v(" "),t("p",[v._v("非关系型数据库：很多的数据类型用户的个人信息、社交网络、地理位置、这些数据的村塾不需要一个固定的格式。不需要多台操作就可以横向操作。Map<String,Object>,使用键值对来控制。")]),v._v(" "),t("h3",{attrs:{id:"特点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[v._v("#")]),v._v(" 特点")]),v._v(" "),t("ol",[t("li",[t("p",[v._v("松耦合！")])]),v._v(" "),t("li",[t("p",[v._v("方便扩展：数据之间没关系，易于扩展")])]),v._v(" "),t("li",[t("p",[v._v("大数据量高性能：一秒可以写八万次，读11万次，且是一种细粒度的缓存，性能会比较高")])]),v._v(" "),t("li",[t("p",[v._v("不需要事先设计数据库的表。")])]),v._v(" "),t("li",[t("p",[v._v("传统的RDBMS和NoSQL")]),v._v(" "),t("blockquote",[t("p",[v._v("传统RDBMS")]),v._v(" "),t("ul",[t("li",[v._v("结构化组织")]),v._v(" "),t("li",[v._v("sql")]),v._v(" "),t("li",[v._v("数据和冠词都存在表中")]),v._v(" "),t("li",[v._v("操作")]),v._v(" "),t("li",[v._v("严格的一致性")]),v._v(" "),t("li",[v._v("基础的事务")])])]),v._v(" "),t("blockquote",[t("p",[v._v("Nosql")]),v._v(" "),t("ul",[t("li",[v._v("不仅仅是数据")]),v._v(" "),t("li",[v._v("没有固定的查询语句")]),v._v(" "),t("li",[v._v("键值对存储、列存储、文档存储")]),v._v(" "),t("li",[v._v("最终一致性")]),v._v(" "),t("li",[v._v("CAP 和 BASE(异地多活)")]),v._v(" "),t("li",[v._v("高性能、高扩展、高可用")])])])])]),v._v(" "),t("h2",{attrs:{id:"nosql-四大分类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nosql-四大分类"}},[v._v("#")]),v._v(" NoSQL 四大分类")]),v._v(" "),t("ol",[t("li",[t("p",[v._v("KV键值对")]),v._v(" "),t("p",[v._v("Redis、memecache")])]),v._v(" "),t("li",[t("p",[v._v("文档型数据库")]),v._v(" "),t("p",[v._v("MongoDB:基于分布式文件存储的数据库，主要用来存储大文档")]),v._v(" "),t("p",[v._v("MongoDB是一个关系型和非关系数据库的中间产物")])]),v._v(" "),t("li",[t("p",[v._v("列存储数据库")]),v._v(" "),t("p",[v._v("HBase")]),v._v(" "),t("p",[v._v("分布式文件系统")])]),v._v(" "),t("li",[t("p",[v._v("图关系数据库")]),v._v(" "),t("p",[v._v("它不是存图形，放的是关系，比如：朋友圈社交网络，广告推荐。")]),v._v(" "),t("p",[v._v("Neo4j")])])])])}),[],!1,null,null,null);_.default=l.exports}}]);